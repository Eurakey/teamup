import{b as P,d as k,u as C,D as y,K as T,e as L,r as w,R as j,aK as g,a8 as S,g as v,bN as B,L as F,ah as O,a0 as m,Z as R,s as V,a6 as z,M as q,k as M,w as _,$ as Y,a as D,a2 as K,a3 as W,a4 as Z,j as x}from"./index-6a252811.js";import{s as G,v as U}from"./index-48f4cade.js";import{E as X,a as H,c as J}from"./el-main-52c71dfc.js";import{P as f,i as I,a as Q,E as ee}from"./el-button-655491ff.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-form-item-91387bf0.js";const ae=P({prefixCls:{type:String}}),A=k({name:"ElSpaceItem",props:ae,setup(e,{slots:u}){const c=C("space"),i=y(()=>`${e.prefixCls||c.b()}__item`);return()=>T("div",{class:i.value},L(u,"default"))}}),N={small:8,default:12,large:16};function se(e){const u=C("space"),c=y(()=>[u.b(),u.m(e.direction),e.class]),i=w(0),a=w(0),r=y(()=>{const t=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${a.value}px`}:{},s={alignItems:e.alignment};return[t,s,e.style]}),p=y(()=>{const t={paddingBottom:`${a.value}px`,marginRight:`${i.value}px`},s=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[t,s]});return j(()=>{const{size:t="small",wrap:s,direction:o,fill:l}=e;if(g(t)){const[n=0,d=0]=t;i.value=n,a.value=d}else{let n;S(t)?n=t:n=N[t||"small"]||N.small,(s||l)&&o==="horizontal"?i.value=a.value=n:o==="horizontal"?(i.value=n,a.value=0):(a.value=n,i.value=0)}}),{classes:c,containerStyle:r,itemStyle:p}}const le=P({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:v([String,Object,Array]),default:""},style:{type:v([String,Array,Object]),default:""},alignment:{type:v(String),default:"center"},prefixCls:{type:String},spacer:{type:v([Object,String,Number,Array]),default:null,validator:e=>B(e)||S(e)||F(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:O,validator:e=>S(e)||g(e)&&e.length===2&&e.every(S)}}),ne=k({name:"ElSpace",props:le,setup(e,{slots:u}){const{classes:c,containerStyle:i,itemStyle:a}=se(e);function r(p,t="",s=[]){const{prefixCls:o}=e;return p.forEach((l,n)=>{I(l)?g(l.children)&&l.children.forEach((d,h)=>{I(d)&&g(d.children)?r(d.children,`${t+h}-`,s):s.push(m(A,{style:a.value,prefixCls:o,key:`nested-${t+h}`},{default:()=>[d]},f.PROPS|f.STYLE,["style","prefixCls"]))}):Q(l)&&s.push(m(A,{style:a.value,prefixCls:o,key:`LoopKey${t+n}`},{default:()=>[l]},f.PROPS|f.STYLE,["style","prefixCls"]))}),s}return()=>{var p;const{spacer:t,direction:s}=e,o=L(u,"default",{key:0},()=>[]);if(((p=o.children)!=null?p:[]).length===0)return null;if(g(o.children)){let l=r(o.children);if(t){const n=l.length-1;l=l.reduce((d,h,E)=>{const b=[...d,h];return E!==n&&b.push(m("span",{style:[a.value,s==="vertical"?"width: 100%":null],key:E},[B(t)?t:R(t,f.TEXT)],f.STYLE)),b},[])}return m("div",{class:c.value,style:i.value},l,f.STYLE|f.CLASS)}return o.children}}}),oe=V(ne);const ie=""+new URL("../login.svg",import.meta.url).href,re=e=>G({url:"/zq/",method:"post",data:e});const $=e=>(W("data-v-5a5a64ae"),e=e(),Z(),e),ce=$(()=>x("img",{src:ie,alt:"",style:{width:"100%","max-width":"600px","max-height":"600px","object-fit":"cover"}},null,-1)),ue=$(()=>x("div",null,[x("h1",{style:{"font-size":"32px","text-align":"center","margin-bottom":"12px","font-weight":"500"}},"赛道友你管理端")],-1)),pe={__name:"login",setup(e){const u=Y();K();const c=w(!1);window.addEventListener("message",async a=>{console.log(a.data),c.value=!0;const{data:r}=await re({code:a.data.code});localStorage.setItem("access_token",r.access),localStorage.setItem("refresh_token",r.refresh),localStorage.setItem("is_staff",r.is_staff),c.value=!1,r.is_staff?(u.push("/content/"),z.success({message:"登录成功"})):z.error({message:"您不是管理员"}),console.log("data:",r)});function i(){window.open("https://cas.ziqiang.net.cn/login?app-name=zq_teamup&wxapp=false&app-logo=https%3A%2F%2Fintro.recruitment.ziqiang.net.cn%2Flogo.png","_blank","left=300,top=150,height=650,width=500")}return(a,r)=>{const p=H,t=ee,s=oe,o=J,l=X,n=U;return q((D(),M(l,{style:{"min-height":"100vh","min-width":"100vw"}},{default:_(()=>[m(p,{width:"45%",class:"aside"},{default:_(()=>[ce]),_:1}),m(o,{class:"main"},{default:_(()=>[m(s,{direction:"vertical",fill:"",style:{width:"400px"},size:"large"},{default:_(()=>[ue,m(t,{type:"primary",style:{flex:"1"},loading:c.value,onClick:i},{default:_(()=>[R("登录")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})),[[n,c.value]])}}},ve=te(pe,[["__scopeId","data-v-5a5a64ae"]]);export{ve as default};
