import{b as P,d as k,u as C,D as y,K as T,e as B,r as w,R as j,aK as g,a8 as S,g as v,bN as L,L as F,ah as O,a0 as m,Z as $,s as V,a6 as z,M as q,k as M,w as _,$ as Y,a as D,a2 as K,a3 as W,a4 as Z,j as x}from"./index-2b445107.js";import{s as G,v as X}from"./index-44e54151.js";import{E as H,a as J,c as Q}from"./el-main-30b0460e.js";import{P as d,i as I,a as U,E as ee}from"./el-button-561a01bd.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-form-item-fb52cd41.js";const ae=P({prefixCls:{type:String}}),A=k({name:"ElSpaceItem",props:ae,setup(e,{slots:u}){const r=C("space"),i=y(()=>`${e.prefixCls||r.b()}__item`);return()=>T("div",{class:i.value},B(u,"default"))}}),N={small:8,default:12,large:16};function se(e){const u=C("space"),r=y(()=>[u.b(),u.m(e.direction),e.class]),i=w(0),a=w(0),c=y(()=>{const t=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${a.value}px`}:{},s={alignItems:e.alignment};return[t,s,e.style]}),p=y(()=>{const t={paddingBottom:`${a.value}px`,marginRight:`${i.value}px`},s=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[t,s]});return j(()=>{const{size:t="small",wrap:s,direction:o,fill:l}=e;if(g(t)){const[n=0,f=0]=t;i.value=n,a.value=f}else{let n;S(t)?n=t:n=N[t||"small"]||N.small,(s||l)&&o==="horizontal"?i.value=a.value=n:o==="horizontal"?(i.value=n,a.value=0):(a.value=n,i.value=0)}}),{classes:r,containerStyle:c,itemStyle:p}}const le=P({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:v([String,Object,Array]),default:""},style:{type:v([String,Array,Object]),default:""},alignment:{type:v(String),default:"center"},prefixCls:{type:String},spacer:{type:v([Object,String,Number,Array]),default:null,validator:e=>L(e)||S(e)||F(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:O,validator:e=>S(e)||g(e)&&e.length===2&&e.every(S)}}),ne=k({name:"ElSpace",props:le,setup(e,{slots:u}){const{classes:r,containerStyle:i,itemStyle:a}=se(e);function c(p,t="",s=[]){const{prefixCls:o}=e;return p.forEach((l,n)=>{I(l)?g(l.children)&&l.children.forEach((f,h)=>{I(f)&&g(f.children)?c(f.children,`${t+h}-`,s):s.push(m(A,{style:a.value,prefixCls:o,key:`nested-${t+h}`},{default:()=>[f]},d.PROPS|d.STYLE,["style","prefixCls"]))}):U(l)&&s.push(m(A,{style:a.value,prefixCls:o,key:`LoopKey${t+n}`},{default:()=>[l]},d.PROPS|d.STYLE,["style","prefixCls"]))}),s}return()=>{var p;const{spacer:t,direction:s}=e,o=B(u,"default",{key:0},()=>[]);if(((p=o.children)!=null?p:[]).length===0)return null;if(g(o.children)){let l=c(o.children);if(t){const n=l.length-1;l=l.reduce((f,h,E)=>{const b=[...f,h];return E!==n&&b.push(m("span",{style:[a.value,s==="vertical"?"width: 100%":null],key:E},[L(t)?t:$(t,d.TEXT)],d.STYLE)),b},[])}return m("div",{class:r.value,style:i.value},l,d.STYLE|d.CLASS)}return o.children}}}),oe=V(ne);const ie="/login.svg",ce=e=>G({url:"/zq/",method:"post",data:e});const R=e=>(W("data-v-bc10e14f"),e=e(),Z(),e),re=R(()=>x("img",{src:ie,alt:"",style:{width:"100%","max-width":"600px","max-height":"600px","object-fit":"cover"}},null,-1)),ue=R(()=>x("div",null,[x("h1",{style:{"font-size":"32px","text-align":"center","margin-bottom":"12px","font-weight":"500"}},"赛道友你管理端")],-1)),pe={__name:"login",setup(e){const u=Y();K();const r=w(!1);window.addEventListener("message",async a=>{console.log(a.data),r.value=!0;const{data:c}=await ce({code:a.data.code});localStorage.setItem("access_token",c.access),localStorage.setItem("refresh_token",c.refresh),localStorage.setItem("is_staff",c.is_staff),r.value=!1,c.is_staff?(u.push("/content/"),z.success({message:"登录成功"})):z.error({message:"您不是管理员"}),console.log("data:",c)});function i(){window.open("https://cas.ziqiang.net.cn/login?app-name=zq_teamup&wxapp=false&app-logo=https%3A%2F%2Fintro.recruitment.ziqiang.net.cn%2Flogo.png","_blank","left=300,top=150,height=650,width=500")}return(a,c)=>{const p=J,t=ee,s=oe,o=Q,l=H,n=X;return q((D(),M(l,{style:{"min-height":"100vh","min-width":"100vw"}},{default:_(()=>[m(p,{width:"45%",class:"aside"},{default:_(()=>[re]),_:1}),m(o,{class:"main"},{default:_(()=>[m(s,{direction:"vertical",fill:"",style:{width:"400px"},size:"large"},{default:_(()=>[ue,m(t,{type:"primary",style:{flex:"1"},loading:r.value,onClick:i},{default:_(()=>[$("登录")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})),[[n,r.value]])}}},ve=te(pe,[["__scopeId","data-v-bc10e14f"]]);export{ve as default};
